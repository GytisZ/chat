restrain server from accepting two names with the same pid
remove macros
fix chat_client_tests
